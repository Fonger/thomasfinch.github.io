---
layout: default
title: Projects
permalink: /iosicon/
---

<script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js'></script>
<script src='{{ site.url }}/resources/icongenerator/html2canvas.js'></script>
<script type='text/javascript'>

$(function () {
    $(":file").change(function () {
        if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.onload = imageIsLoaded;
            reader.readAsDataURL(this.files[0]);
        }
    });
});

function imageIsLoaded(e) {
	$('#icon').attr('src', e.target.result);
    $('#realIcon').attr('src', e.target.result);
    $('#icon').css('visibility', 'visible');

 	var canvas = document.getElementById('iconCanvas');
	var ctx = canvas.getContext('2d');

	rasterizeHTML.drawHTML(document.getElementById('realIcon').outerHTML, canvas);

	// var imageObj = new Image();
 //    imageObj.onload = function() {
 //    	console.log('should have drawn image');
 //    	console.log(canvas);
 //    	console.log(context);
	// 	canvas.height = 500;
 //    	canvas.width = 500;
 //    	context.drawImage(imageObj, 0, 0);
 //    	console.log(canvas);
 //    };

 //    console.log(e);
 //    console.log(e.target.result);
 //    imageObj.src = e.target.result;
};

$(function() { 
    $("#downloadButton").click(function() {

    	console.log($('#icon').attr('src'));

    	if ($('#icon').attr('src') === '' || $('#realIcon').attr('src') === '') {
    		alert('Please upload an image.');
    		return;
    	}

       //  html2canvas($("#realIcon"), {
       //      onrendered: function(canvas) {

       //      	var image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
       //      	console.log(image);
       //      	// window.location.href = image.src;
			    // // window.open(image);

       //          // theCanvas = canvas;
       //          // document.body.appendChild(canvas);

       //          // // Convert and download as image 
       //          // Canvas2Image.saveAsPNG(canvas);
       //          // $("#img-out").append(canvas);
       //          // Clean up 
       //          //document.body.removeChild(canvas);
       //      }
       //  });
    });
});
</script>

<style>
.app-icon {
	background-size: 100% 100%;
	cursor: pointer;
	border-radius: 17.544%;
	-webkit-mask-repeat: no-repeat;
  	-webkit-mask-size: 100% 100%;
  	-webkit-mask-image: url('{{ site.url }}/resources/icongenerator/ios7-icon.svg');
}
</style>

<h1>iOS 7+ Icon Generator</h1>

<p>This tool takes a square app icon and masks it to match the shape of iOS 7+ icons. It's simple, but there apparently aren't good online tools for this ¯\_(ツ)_/¯</p>

<input type='file' />

<br /><br />

<img id='icon' class='app-icon' src='' alt='Icon image' style='max-width:300px; max-height:300px; visibility:hidden;' />

<br /><br />

<button id='downloadButton'>Download Masked Icon</button>

<canvas id='iconCanvas'></canvas>

<img id='realIcon' class='app-icon' src='' hidden />